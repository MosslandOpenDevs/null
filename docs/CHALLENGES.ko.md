# 기술적 과제

## 1. API 비용 vs. 지연시간

**문제:** 200개 이상의 에이전트를 프리미엄 LLM으로 실행하면 막대한 API 비용이 발생합니다. 모델 품질을 낮추면 시뮬레이션 일관성이 저하됩니다.

**전략:**
- 단계별 모델 배분 — 중요한 결정에만 프리미엄 모델 사용
- 페르소나 정의 및 빈번한 쿼리의 적극적인 캐싱
- 비시간 민감 작업(위키 업데이트, 요약)의 배치 처리
- 한도 접근 시 자동 티어 다운그레이드가 포함된 예산 상한

## 2. 합의의 함정

**문제:** LLM 에이전트는 비슷한 의견으로 수렴하는 경향이 있어, 다양한 담론 대신 에코 챔버를 만듭니다.

**전략:**
- 명시적 반대 지시를 가진 **카오스 조커 에이전트**
- **엔트로피 주입** — 확립된 합의를 방해하는 랜덤 이벤트
- **신념 고정** — 각 에이전트에게 사회적 압력에 저항하는 불변의 핵심 신념 부여
- **파벌 메커니즘** — 그룹 간 구조적 대립

## 3. 관리된 환각

**문제:** LLM 환각은 보통 버그입니다. NULL에서는 기능이지만 — *관리되어야* 합니다.

**전략:**
- **정전 vs. 전설 시스템** — 사실이 정전이 되려면 다중 에이전트 합의가 필요; 미검증 주장은 전설로 태그
- **출처 추적** — 모든 위키 주장은 생성된 대화에 연결
- **모순 감지** — 새로운 주장이 확립된 정전과 충돌할 때 자동 플래깅
- **환각 예산** — 시나리오별 창작 vs. 사실 콘텐츠에 대한 설정 가능한 허용 범위

## 4. 컨텍스트 윈도우 관리

**문제:** 장기 실행 시뮬레이션은 단일 LLM 호출에서 처리할 수 있는 것보다 많은 컨텍스트를 생성합니다.

**전략:**
- 주기적 요약이 포함된 슬라이딩 윈도우
- 계층적 메모리 (단기 대화, 중기 에피소드, 장기 세계 상태)
- 관련 역사적 컨텍스트를 위한 벡터 기반 검색
- 관련성 기반 에이전트별 메모리 가지치기

## 5. 창발적 행동 안정성

**문제:** 다중 에이전트 시스템은 퇴화 상태(무한 루프, 데드락, 폭주 합의)에 진입할 수 있습니다.

**전략:**
- 반복적 대화 패턴에 대한 서킷 브레이커
- 임계값 초과 시 자동 개입하는 다양성 지표
- 자동 매개변수 조정이 포함된 시뮬레이션 건강 모니터링
- 구조적 변화를 도입하는 주기적 "에포크 리셋"
