# UI/UX 명세 — 옴니스코프 (The Omniscope)

## 개요

옴니스코프는 **시뮬레이션 세계를 들여다보는 살아있는 창** — 대시보드가 아니라 우주적 관측소입니다. 핵심 경험은 풀스크린 공간 시각화(코스모그래프)로, 에이전트들이 깊은 우주 속 빛나는 노드로 존재하며 발광 필라멘트로 연결됩니다.

> 메타포 전환: "관리자 패널" → "신의 관측소"

## 1. 메인 뷰: 코스모그래프 (THE COSMOGRAPH)

풀스크린 WebGL 공간 시각화. 첫 화면이자 핵심 경험으로, 트리니티 뷰 3패널 레이아웃을 대체합니다.

**화면 구성:**
- 우주적 어둠(`#0a0a0f`) 위에 부드럽게 빛나는 노드 클러스터
- 각 노드 = 에이전트 하나. 파벌별로 성운처럼 그룹화
- 관계를 나타내는 발광 필라멘트 (동맹=파랑, 적대=빨강, 거래=금)
- 전체 시각화가 "숨 쉬는" 느낌 — 활성 시 맥동, 토론 시 전기 방전, 배신 시 붉은 섬광

**시맨틱 줌 (핵심 혁신):**

| 줌 레벨 | 보이는 것 |
|---|---|
| **L1: 우주** | 전체 파벌이 색깔 성운으로, 매크로 통계 오버레이 |
| **L2: 파벌** | 파벌 내 개별 에이전트, 내부 관계 |
| **L3: 클러스터** | 특정 토론에 참여 중인 에이전트 그룹 |
| **L4: 대화** | 에이전트 간 실제 메시지 (말풍선으로 렌더링) |
| **L5: 에이전트** | 단일 에이전트 프로필 — 신념, 역사, 관계, 영향력 |

스크롤/핀치로 연속적 줌. 단계 구분 없이 크로스페이드. "신이 피조물에 줌인하는" 감각.

**사운드 디자인 (Tone.js, 옵션):**
- L1: 낮은 드론 험, 전체 감정에 따라 피치 변화
- 줌인 시 개별 에이전트 "목소리"가 톤 핑으로 들림
- 갈등: 불협화음, 동맹: 화성적 해결, 에포크 전환: 깊은 공명

## 2. 타임라인 리본

화면 하단 수평 스트립 (~60px). 이산적 시간 제어를 대체합니다.

- 연속 리본으로 시뮬레이션 역사 표시 (현재 = 오른쪽 밝은 선)
- 에포크별 색상 코딩 (녹=번영, 적=갈등, 금=발견, 보라=패러다임 전환)
- 드래그로 시간 스크럽 → 코스모그래프가 과거/미래로 애니메이션
- **타임랩스**: 전체 시뮬레이션을 60초로 압축 재생
- 이벤트 마커 클릭 → 해당 시점으로 점프 + 관련 에이전트로 줌

## 3. 오라클 패널 (3패널 레이아웃 대체)

3개 고정 패널 대신, 컨텍스트에 따라 우측에서 슬라이드 인하는 단일 패널 (프로스트 글라스 블러).

**트리거:**
- 에이전트 노드 클릭 → 에이전트 프로필
- 필라멘트 클릭 → 관계 이력
- 파벌 클러스터 클릭 → 파벌 위키 페이지
- 이벤트 마커 클릭 → 이벤트 상세
- `/` 키 → 유니버설 검색/커맨드 팔레트

정전(Canon) 텍스트는 솔리드로 렌더링. 전설(Legends) 텍스트는 미묘한 쉬머/불확실 효과로 렌더링.

## 4. 신의 개입 (디렉터 모드 대체)

폼 기반 대신 공간적 제스처:

- **이벤트 드롭**: 상단 툴바에서 이벤트 토큰(번개=위기, 두루마리=발견, 해골=역병, 왕관=지도자 교체)을 맵 위로 드래그&드롭
  - 빈 공간에 드롭 = 전역 이벤트
  - 파벌 위에 드롭 = 파벌 이벤트
  - 에이전트 위에 드롭 = 개인 이벤트
- **위스퍼 모드**: 에이전트 우클릭 → 텍스트 입력 → 에이전트의 다음 추론에 "내면의 목소리"로 주입
- **시드 봄**: 지역에 토픽을 드롭 → 해당 지역 에이전트들이 해당 주제 토론 시작 → 파문 시각화

## 5. 알림 시스템: 헤럴드 (THE HERALD)

좌상단의 비침투적 알림 카드 (8초 후 자동 사라짐).

- **내러티브 비트**: "조화 집단이 신경 임플란트 법안 타협안을 제시했습니다" (AI 생성 산문)
- **패러다임 전환**: "Agent-023이 왕실 충성파에서 자유 정신 연합으로 이탈" + [관찰하기] 버튼
- **긴장 경고**: 갈등 폭발 전에 표시 → 기대감 조성
- **"Catch me up" 버튼**: 마지막 확인 이후 일어난 일을 3~5문장 AI 요약

## 6. 북마크 & 내보내기: 아카이브 (THE ARCHIVE)

- `B`키로 현재 뷰 상태 원클릭 북마크
- **스토리 아크 내보내기**: 시스템이 자동 감지한 서사 아크 (발단→위기→절정→해결)를 Markdown 내러티브 / JSON / SVG 타임라인으로 내보내기
- **클립 녹화**: `R`키로 녹화 시작/종료 → WebM 비디오 또는 데이터 번들로 내보내기

## 7. 앰비언트/모바일 모드: 아쿠아리움 (THE AQUARIUM)

- UI 크롬 없이 코스모그래프만 풀스크린 — 세컨드 스크린이나 스크린세이버용
- 모바일: 탭=줌, 스와이프=타임라인 스크럽, 롱프레스=오라클 카드
- 푸시 알림 (패러다임 전환, 주요 이벤트) opt-in
- 세로 모드: 상단 코스모그래프 + 하단 헤럴드 피드

## 8. 비주얼 랭귀지

- **배경**: `#0a0a0f` (우주적 블랙)
- **노드**: 파벌별 색상, 생물발광 느낌 (네온 아님)
- **타이포**: UI=Inter, 위키/내러티브=Serif(Source Serif Pro), 에이전트 인용=Monospace
- **애니메이션**: 느리고 유기적. 머티리얼 디자인 스냅 없음. 중력적 이징
- **UI 분리**: 보더/카드/섀도우 없음. 빛의 밝기로 구분. 어둠에서 빛으로 나타남

## 9. 상호작용 모드

- **관찰자 모드 (기본):** 코스모그래프 탐색, 오라클 패널 열람, 타임라인 스크럽. 읽기 전용.
- **개입자 모드:** 이벤트 토큰 드래그, 에이전트에게 위스퍼, 시드 봄 드롭. 시뮬레이션과의 공간적 상호작용.
- **기록자 모드:** 상태 북마크, 클립 녹화, 스토리 아크 내보내기. 캡처와 문서화에 집중.

## 10. 다국어 지원 (i18n)

- **기본 언어**: 영어 (English)
- **지원 언어**: 영어, 한국어
- 옴니스코프 UI에서 언어 토글 (우상단, 최소 아이콘)
- 사용자 언어 설정을 `localStorage`에 저장하여 세션 간 유지
- 모든 헤럴드 알림, 오라클 패널 콘텐츠, UI 라벨이 선택된 언어로 렌더링
- 위키 콘텐츠(에이전트 생성)는 시뮬레이션의 고유 언어로 유지; UI 크롬만 독립적으로 전환
- URL 구조: `/en/...` (기본), `/ko/...` 한국어

## 11. 기술 스택

| 레이어 | 기술 | 이유 |
|---|---|---|
| 프레임워크 | Next.js (App Router) | 유지 |
| 코스모그래프 렌더링 | **Three.js + 커스텀 셰이더** | D3로는 150+ 노드 유기적 파티클 효과 불가 |
| 물리 레이아웃 | d3-force | 물리 엔진만 (렌더링은 Three.js) |
| 오디오 | Tone.js | 제너레이티브 앰비언트 |
| 상태 관리 | Zustand | 실시간 스트리밍에 경량 적합 |
| 실시간 데이터 | WebSocket + EventSource | 에이전트 활동 스트림 |
| 모바일 | PWA | 오프라인 북마크, 푸시 알림 |
