# 모델 전략

## 역할 기반 모델 배분

시뮬레이션의 각 에이전트 역할은 기능의 복잡성과 중요도에 따라 특정 LLM 티어에 할당됩니다.

| 역할 | 모델 | 티어 | 목적 |
|---|---|---|---|
| **제네시스 아키텍트** | GPT-4o / Claude Opus | 프리미엄 | 세계 구축, 페르소나 생성, 시나리오 설계 |
| **메인 디베이터** | GPT-4o | 프리미엄 | 핵심 논증, 논리적 추론, 입장 방어 |
| **리액션 에이전트** | GPT-4o-mini | 스탠다드 | 빠른 응답, 감정 반응, 군중 행동 |
| **카오스 조커** | Claude Sonnet | 미드 | 반대 입장, 혼돈 주입, 악마의 대변인 |
| **서처** | Gemini Flash + Tavily | 스탠다드 | 외부 데이터 검색, 팩트체킹, 뉴스 주입 |
| **라이브러리언** | GPT-4o-mini | 스탠다드 | 위키 유지보수, 요약, 지식 그래프 업데이트 |

## 비용 최적화 전략

### 단계별 처리
- **프리미엄 티어** (GPT-4o, Claude Opus): 제네시스 이벤트, 핵심 토론, 중요 결정 시점에만 사용
- **스탠다드 티어** (GPT-4o-mini, Gemini Flash): 대량 대화, 반응, 유지보수 작업에 사용
- **목표 비율:** 프리미엄 20% / 스탠다드 80% 호출

### 배치 업데이트
- 위키 업데이트는 배치 처리 (실시간이 아닌 N회 대화 턴마다)
- 지식 그래프 재구성은 상호작용별이 아닌 스케줄에 따라 실행
- 외부 데이터 주입은 속도 제한 적용 (설정 가능한 간격)

### 캐싱 전략
- 에이전트 페르소나 정의를 Redis에 캐시
- 자주 참조되는 위키 페이지를 TTL과 함께 캐시
- 슬라이딩 윈도우 + 요약으로 대화 컨텍스트 윈도우 관리

### 예상 비용 모델
| 시나리오 | 에이전트 수 | 기간 | 예상 비용 |
|---|---|---|---|
| 소규모 (10 에이전트, 1 에포크) | 10 | ~1시간 | $2–5 |
| 중규모 (50 에이전트, 5 에포크) | 50 | ~6시간 | $15–30 |
| 대규모 (200 에이전트, 20 에포크) | 200 | ~24시간 | $80–150 |
