# 개발 로드맵

## Phase 0: 기반
*프로젝트 구조, 문서화, 기본 인프라.*

- [x] 프로젝트 철학과 비전 정의
- [x] 문서 체계 생성
- [ ] 모노레포 구조 설정 (backend / frontend / shared)
- [ ] 개발 환경 구성 (Docker, CI/CD)
- [ ] 코딩 표준 및 린팅 설정

## Phase 1: 코어 엔진
*에이전트 오케스트레이션과 페르소나 생성.*

- [ ] 제네시스 노드 구현 (시드 프롬프트 → 세계 설정)
- [ ] 페르소나 생성기 구축 (배경, 신념, 동기)
- [ ] 에이전트 오케스트레이션 레이어 생성 (LangGraph / AutoGen)
- [ ] 역할 기반 모델 라우팅 구현
- [ ] 기본 에이전트 통신 프로토콜 구축
- [ ] 코어 엔진 컴포넌트 단위 테스트

## Phase 2: 시뮬레이션 루프
*대화 엔진과 이벤트 시스템.*

- [ ] 다중 에이전트 대화 엔진 구현
- [ ] 이벤트 시스템 구축 (랜덤 이벤트, 예약 이벤트)
- [ ] 합의 메커니즘 생성 (정전 vs. 전설 투표)
- [ ] 시간 왜곡 제어 구현
- [ ] 대화 메모리 관리 추가 (슬라이딩 윈도우 + 요약)
- [ ] 시뮬레이션 루프 통합 테스트

## Phase 3: 하이브 마인드
*자동 위키와 지식 저장.*

- [ ] PostgreSQL + pgvector 설정
- [ ] 대화로부터 위키 페이지 생성 구현
- [ ] 지식 그래프 구축 파이프라인 생성
- [ ] 위키 항목 전반의 시맨틱 검색 생성
- [ ] 모순 감지 구현
- [ ] 위키 버저닝 및 히스토리 추가

## Phase 4: 옴니스코프 (The Omniscope)
*코스모그래프 기반 공간 UI 구현.*

### Phase 4a: 코스모그래프 코어
- [ ] Three.js 통합으로 Next.js 프론트엔드 설정
- [ ] WebGL 코스모그래프 렌더러 구현 (노드, 필라멘트, 파벌 성운)
- [ ] Three.js에 공급하는 d3-force 물리 레이아웃 구축
- [ ] 생물발광 노드 효과를 위한 커스텀 셰이더 구현
- [ ] 숨 쉬기/맥동 애니메이션 시스템 생성
- [ ] Zustand 스토어와 WebSocket 이벤트 스트림 통합

### Phase 4b: 시맨틱 줌 & 내비게이션
- [ ] 5단계 시맨틱 줌 구현 (우주 → 파벌 → 클러스터 → 대화 → 에이전트)
- [ ] 줌 레벨 간 크로스페이드 전환 구축
- [ ] 에포크 색상 코딩과 시간 스크러빙이 포함된 타임라인 리본 구현
- [ ] 타임랩스 재생 모드 추가 (압축 시뮬레이션 리플레이)

### Phase 4c: 오라클 패널 & 헤럴드
- [ ] 슬라이드인 오라클 패널 구축 (프로스트 글라스, 컨텍스트 트리거)
- [ ] 에이전트 프로필, 관계 이력, 파벌 위키 뷰 구현
- [ ] 헤럴드 알림 시스템 구축 (내러티브 비트, 패러다임 전환, 긴장 경고)
- [ ] "Catch me up" AI 요약 기능 구현
- [ ] 유니버설 검색 / 커맨드 팔레트 추가 (`/` 키)

### Phase 4d: 신의 개입 & 내보내기
- [ ] 이벤트 드롭 시스템 구현 (토큰을 코스모그래프에 드래그)
- [ ] 위스퍼 모드 구축 (에이전트 우클릭 → 내면의 목소리 주입)
- [ ] 시드 봄 메커닉 생성 (토픽 드롭 → 파문 시각화)
- [ ] 아카이브 시스템 구현 (`B`로 북마크, `R`로 클립 녹화)
- [ ] 스토리 아크 자동 감지 및 내보내기 구축 (Markdown / JSON / SVG)
- [ ] 아쿠아리움 모드 추가 (크롬리스 풀스크린, 모바일 PWA)

## Phase 4e: 시맨틱 세디먼트 (Semantic Sediment)
*자동 데이터 조직과 엔티티 인텔리전스.*

- [x] 엔티티 멘션 — 대화/위키에서 NER + 퍼지 매칭 자동 감지
- [x] 시맨틱 인덱서 — 백그라운드 임베딩 생성 + 이웃 발견 (60초)
- [x] 택소노미 빌더 — 바텀업 클러스터링으로 계층 트리 생성 (300초)
- [x] 스트라텀 디텍터 — 에포크별 시간 요약 + 개념 추적
- [x] 엔티티 그래프 API — 멘션, 이웃, 월드별 전체 엔티티 그래프
- [x] 택소노미 API — 트리 브라우징, 노드 상세, 월드 필터링
- [x] 스트라타 API — 시간 지층 목록 및 상세
- [x] 북마크 — 사용자 세션 기반 컬렉션 + 일괄 export
- [x] 학습 데이터 내보내기 — ChatML, Alpaca, ShareGPT 형식 지원
- [x] 프론트엔드: TaxonomyTreeMap, EntityCard, StrataTimeline, BreadcrumbBar
- [x] 프론트엔드: BookmarkDrawer, SemanticSidebar, IntelPanel StrataTab
- [x] 프론트엔드: 위키 멘션 하이라이트, 엔티티 그래프 오버레이, 택소노미 CommandPalette
- [x] 제네시스 진행 UI — 월드 생성 중 실시간 프로그레스 바 + 단계 추적
- [x] 백그라운드 제네시스 — 비동기 월드 생성으로 논블로킹 응답

## Phase 4f: 관찰자 중심 UX (Observer-First UX)
*지식 중심 리디자인 + 성숙도 기반 월드 분류.*

- [x] 백엔드: 성숙도 메타데이터 포함 WorldCardOut 스키마
- [x] 백엔드: 월드 목록 배치 N+1 쿼리 최적화
- [x] 백엔드: `GET /worlds?mature=true&incubating=true` 성숙도 필터
- [x] 백엔드: `GET /worlds/{id}/recent-messages` SystemPulse 초기 피드
- [x] 프론트엔드: Observatory (성숙 월드) + Incubator (생성/가동 중) 홈 페이지
- [x] 프론트엔드: WorldCard 컴포넌트 (통계, 태그, 설명 미리보기)
- [x] 프론트엔드: IncubatorChip 컴포넌트 (제네시스 진행률)
- [x] 프론트엔드: 2열 월드 페이지 (KnowledgeHub 70% + SystemPulse 30%)
- [x] 프론트엔드: KnowledgeHub 7개 탭 (Wiki, Graph, Strata, Resonance, Agent, Log, Export)
- [x] 프론트엔드: SystemPulse (팩션 아코디언, 미니 라이브 피드, 월드 상태)
- [x] 프론트엔드: 월드 생성 시 홈 유지 (리디렉트 없음), 토스트 알림
- [x] 프론트엔드: 동적 로케일 라우팅 (`/en/` 하드코딩 제거)
- [x] 프론트엔드: CommandPalette 글로벌 검색 점수 기반 정렬

## Phase 5: 마무리 & 런칭
*외부 데이터 연동과 최적화.*

- [ ] 외부 데이터 주입을 위한 Tavily / Perplexity 연동
- [ ] 비용 모니터링 및 예산 제어 구현
- [ ] 성능 최적화 (캐싱, 배칭, 큐 관리)
- [ ] 선택적 Tone.js 제너레이티브 오디오 통합
- [ ] 보안 감사
- [ ] 문서 최종화
- [ ] 샘플 시나리오로 베타 테스트
